const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ConsentManager-x9hpim_X.js","./ui-CZl4EbeW.js","./vendor-BXEMiIsG.js"])))=>i.map(i=>d[i]);
import{r as e,j as t,R as r}from"./ui-CZl4EbeW.js";import{r as n}from"./react-core-BsXak0nh.js";import{a as s}from"./vendor-BXEMiIsG.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var a={},o=n;a.createRoot=o.createRoot,a.hydrateRoot=o.hydrateRoot;const i={},l=function(e,t,r){let n=Promise.resolve();if(t&&t.length>0){const e=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),a=(null==s?void 0:s.nonce)||(null==s?void 0:s.getAttribute("nonce"));n=Promise.allSettled(t.map(t=>{if(t=function(e,t){return new URL(e,t).href}(t,r),t in i)return;i[t]=!0;const n=t.endsWith(".css"),s=n?'[rel="stylesheet"]':"";if(!!r)for(let r=e.length-1;r>=0;r--){const s=e[r];if(s.href===t&&(!n||"stylesheet"===s.rel))return}else if(document.querySelector(`link[href="${t}"]${s}`))return;const o=document.createElement("link");return o.rel=n?"stylesheet":"modulepreload",n||(o.as="script"),o.crossOrigin="",o.href=t,a&&o.setAttribute("nonce",a),document.head.appendChild(o),n?new Promise((e,r)=>{o.addEventListener("load",e),o.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${t}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return n.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})},c={ncfca_impromptu:{name:"NCFCA Impromptu",tagline:"Comprehensive topic list courtesy of Danielle Miller Speech & Debate (daniellemillerspeechdebate.com).",loader:()=>l(()=>import("./ncfca_impromptu-gDdQkyos.js"),[],import.meta.url).then(e=>e.ncfca_impromptu)},ncfca_junior:{name:"NCFCA Junior",tagline:"Simplified and fun topics perfect for younger Impromptu speakers.",loader:()=>l(()=>import("./ncfca_junior-MO5tOFcm.js"),[],import.meta.url).then(e=>e.ncfca_junior)},ncfca_apologetics:{name:"NCFCA Apologetics",tagline:"Official NCFCA Apologetics 2025 Release: 48 Doctrinal and 48 Application Questions.",loader:()=>l(()=>import("./ncfca_apologetics-JYHjMKGj.js"),[],import.meta.url).then(e=>e.ncfca_apologetics)}},d=Object.keys(c),m=e.lazy(()=>l(()=>import("./ConsentManager-x9hpim_X.js"),__vite__mapDeps([0,1,2]),import.meta.url)),u=e.lazy(()=>l(()=>import("./ui-CZl4EbeW.js").then(e=>e.S),[],import.meta.url)),p=e.lazy(()=>l(()=>import("./ui-CZl4EbeW.js").then(e=>e.A),[],import.meta.url)),h=e.lazy(()=>l(()=>import("./ui-CZl4EbeW.js").then(e=>e.T),[],import.meta.url)),x=e.memo(()=>{const[r,n]=e.useState(()=>{const e=s.get("selectedDataset");return e&&c[e]?e:"ncfca_impromptu"}),[a,o]=e.useState(null),[i,l]=e.useState(!0),[x,f]=e.useState({});e.useEffect(()=>{let e=!0;l(!0);const t=setTimeout(()=>{c[r].loader().then(t=>{if(e){const e=t.topics||t;o(e),f(Object.keys(e).reduce((e,t)=>({...e,[t]:!0}),{})),l(!1)}})},100);return()=>{e=!1,clearTimeout(t)}},[r]);const[b,g]=e.useState(()=>{const e={immediatelyStartPrep:!0,promptAmount:2,prepTime:120,speakingTime:300,animationsEnabled:!0,theme:"sleek",forceSameCategory:!1,buzzOnPrepOver:!0},t=s.get("settings");if(t)try{const r=JSON.parse(t);return{...e,...r}}catch(r){}return e}),[y,j]=e.useState(()=>{const e=s.get("history");if(e)try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(t){}return[]}),[v,S]=e.useState(()=>s.get("cookieConsent"));e.useEffect(()=>{"essential"!==v&&"all"!==v||(s.set("settings",JSON.stringify(b),{expires:365,secure:!0,sameSite:"strict"}),s.set("selectedDataset",r,{expires:365,secure:!0,sameSite:"strict"}))},[b,r,v]),e.useEffect(()=>{"all"===v&&s.set("history",JSON.stringify(y),{expires:365,secure:!0,sameSite:"strict"})},[y,v]),e.useEffect(()=>{document.documentElement.setAttribute("data-theme",b.theme),document.documentElement.setAttribute("data-animations",b.animationsEnabled)},[b.theme,b.animationsEnabled]);const[w,k]=e.useState(!1),[_,C]=e.useState("general"),[N,E]=e.useState(!1),[A,O]=e.useState(!1),[P,D]=e.useState([]),[I,L]=e.useState("none"),T=e.useCallback(e=>{f(t=>1===Object.keys(t).filter(e=>t[e]).length&&t[e]?t:{...t,[e]:!t[e]})},[]),M=e.useCallback(()=>{if(!a)return;const e=Object.keys(x).filter(e=>x[e]&&a[e]);if(0===e.length)return;const t=[];let r=null;b.forceSameCategory&&(r=e[Math.floor(Math.random()*e.length)]);const n=new Set;let s=0;for(;t.length<b.promptAmount&&s<100;){s++;const o=r||e[Math.floor(Math.random()*e.length)],i=a[o],l=i[Math.floor(Math.random()*i.length)];n.has(l)||(t.push({category:o,text:l}),n.add(l))}D(t),L("prep")},[x,a,b.forceSameCategory,b.promptAmount]),R=e.useCallback(()=>{const e={date:(new Date).toISOString(),topics:P.map(e=>({text:e.text,category:e.category})),dataset:c[r].name};j(t=>[e,...t])},[P,r]),z=e.useCallback(()=>{j([]),"all"===v&&s.remove("history")},[v]),F=e.useCallback(e=>{D(e.topics),L("prep"),k(!1)},[]),V=e.useCallback(()=>{R(),L("none"),D([])},[R]);return t.jsxs("div",{className:"min-h-screen bg-brand-bg text-brand-text font-sans selection:bg-brand-primary/30 transition-colors duration-500 flex flex-col",children:[t.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[t.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-brand-primary/10 blur-[120px] rounded-full will-change-[filter]"}),t.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-brand-secondary/10 blur-[120px] rounded-full will-change-[filter]"})]}),t.jsxs("main",{className:"relative z-10 max-w-4xl mx-auto px-6 py-12 flex flex-col items-center flex-1 w-full",children:[t.jsxs("header",{className:"mb-12 text-center w-full relative z-10",children:[t.jsxs("div",{className:"animate-premium-in",children:[t.jsx("h1",{className:"text-5xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-brand-primary to-brand-secondary mb-2",children:"NCFCA Impromptu"}),t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("p",{className:"text-brand-text-muted text-lg",children:"Practice like a champion."}),t.jsx("button",{onClick:()=>O(!0),className:"p-1.5 rounded-full hover:bg-brand-text/5 text-brand-text-muted hover:text-brand-text transition-colors",title:"About",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M12 16v-4"}),t.jsx("path",{d:"M12 8h.01"})]})})]})]}),t.jsx("button",{id:"settings-button","aria-label":"Settings",onClick:()=>k(!w),className:"absolute right-0 top-0 p-3 rounded-2xl border transition-all hover:scale-105 active:scale-95 z-[90] animate-premium-in "+(w?"bg-brand-primary border-brand-primary shadow-lg text-white":"bg-brand-surface border-brand-border text-brand-text-muted hover:text-brand-text"),children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.1a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),t.jsx(e.Suspense,{fallback:null,children:t.jsx(u,{showSettings:w,setShowSettings:k,activeTab:_,setActiveTab:C,settings:b,setSettings:g,selectedDataset:r,setSelectedDataset:n,datasetKeys:d,datasetManifest:c,loadingDataset:i,topicsData:a,categories:x,toggleCategory:T,cookieConsent:v,setShowConsentManager:E,history:y,clearHistory:z,replaySession:F})})]}),t.jsxs("div",{className:"flex-1 w-full flex flex-col items-center",children:["none"===I&&t.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 w-full animate-premium-in",children:[t.jsx("div",{className:"mb-8 text-center",children:t.jsx("div",{className:"inline-flex gap-2 mb-4 px-4 py-2 bg-brand-surface border border-brand-border rounded-full text-xs text-brand-text-muted",children:i?t.jsx("span",{className:"animate-pulse",children:"Fetching dataset..."}):t.jsxs(t.Fragment,{children:[t.jsxs("span",{children:[a?Object.keys(a).length:0," Categories"]}),t.jsx("span",{className:"opacity-20",children:"|"}),t.jsxs("span",{children:[b.promptAmount," ",1===b.promptAmount?"Prompt":"Prompts"]})]})})}),t.jsxs("button",{onClick:M,disabled:i,className:"group relative px-12 py-6 bg-brand-primary hover:bg-brand-primary/90 text-white rounded-[2.5rem] transition-all shadow-2xl hover:shadow-brand-primary/40 active:scale-95 "+(i?"opacity-50 cursor-not-allowed":""),children:[t.jsx("span",{className:"relative z-10 text-2xl font-bold tracking-tight",children:i?"Loading...":"Generate Prompts"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity blur-xl rounded-full"})]}),t.jsx("p",{className:"mt-8 text-brand-text-muted text-sm italic",children:i?"Updating topics library...":`Drawing from ${Object.keys(x).filter(e=>x[e]).length} active categories`})]}),t.jsx(e.Suspense,{fallback:null,children:t.jsx(h,{timerMode:I,currentTopics:P,settings:b,onComplete:()=>L("speech"),onReturn:V})})]})]}),t.jsx("footer",{className:"relative z-20 w-full max-w-4xl mx-auto px-6 py-8 border-t border-brand-border/50 text-center transition-all duration-300 "+(w?"blur-sm pointer-events-none":""),children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsxs("div",{className:"flex gap-6",children:[t.jsx("button",{onClick:()=>O(!0),className:"text-xs font-bold uppercase tracking-widest text-brand-text-muted hover:text-brand-primary transition-colors",children:"About"}),t.jsx("a",{href:"https://github.com/ezraclintoc/NCFCAImpromptu",target:"_blank",rel:"noopener noreferrer",className:"text-xs font-bold uppercase tracking-widest text-brand-text-muted hover:text-brand-primary transition-colors",children:"Source"}),t.jsx("button",{onClick:()=>E(!0),className:"text-xs font-bold uppercase tracking-widest text-brand-text-muted hover:text-brand-primary transition-colors",children:"Privacy"})]}),t.jsxs("p",{className:"text-[10px] text-brand-text-muted/50 uppercase tracking-[0.2em]",children:["Â© ",(new Date).getFullYear()," NCFCA Practice Tool"]})]})}),t.jsxs(e.Suspense,{fallback:null,children:[t.jsx(p,{showAbout:A,setShowAbout:O}),t.jsx(m,{onConsent:S,forceOpen:N,onClose:()=>E(!1)})]})]})});class f extends r.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?t.jsxs("div",{style:{padding:"20px",color:"red"},children:[t.jsx("h1",{children:"Something went wrong."}),t.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),t.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}const b=document.getElementById("root"),g=a.createRoot(b),y=document.getElementById("root-skeleton");y&&y.remove(),g.render(t.jsx(r.StrictMode,{children:t.jsx(f,{children:t.jsx(x,{})})}));
